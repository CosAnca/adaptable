@charset "UTF-8";

@use "sass:math";
@use "sass:string";
@use "adaptable-column-ratio";
@use "retrieve-adaptable-settings";

/// Return a calulated column width that can then be passed in to a `calc()`.
///
/// @argument {map} $grid
///
/// @argument {number} $columns
///
/// @return {string}
///
/// @example scss
///
///   _adaptable-column-width($adaptable-grid, 4)
///
/// @access private
///

@function adaptable-column-width($grid, $columns) {
  $_column-ratio: adaptable-column-ratio.adaptable-column-ratio(
    $grid,
    $columns
  );
  $_column-gap: retrieve-adaptable-settings.retrieve-adaptable-setting(
    $grid,
    column-gap
  );

  @if $_column-gap == 0 {
    @return string.unquote("#{math.percentage($_column-ratio)}");
  } @else {
    @return string.unquote(
      "#{math.percentage($_column-ratio)} - #{$_column-gap}"
    );
  }
}
